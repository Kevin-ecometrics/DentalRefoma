---
// src/components/Header.astro
export interface Props {
  currentPage?: string;
  currentLanguage?: "es" | "en";
}

const { currentPage, currentLanguage = "es" } = Astro.props;
---

<header class="header-container">
  <div class="header-content">
    <!-- Logo -->
    <div class="logo-container">
      <a href="/" class="logo-link">
        <img
          src="//custom-images.strikinglycdn.com/res/hrscywv4p/image/upload/c_limit,fl_lossy,h_300,w_300,f_auto,q_auto/1363639/325171_133855.png"
          alt="Logo Clínica Dental"
          width="42"
          height="42"
          class="logo-image"
          loading="eager"
        />
      </a>
    </div>

    <!-- Menú principal con separadores -->
    <nav class="main-navigation">
      <ul class="nav-list">
        <li class="nav-item">
          <a
            class={`nav-link ${currentPage === "home" ? "active" : ""}`}
            href="#home"
          >
            <span class="link-text">Home</span>
          </a>
          <span class="menu-separator"></span>
        </li>
        <li class="nav-item">
          <a
            class={`nav-link ${currentPage === "mision" ? "active" : ""}`}
            href="#mision"
          >
            <span class="link-text">Misión</span>
          </a>
          <span class="menu-separator"></span>
        </li>
        <li class="nav-item">
          <a
            class={`nav-link ${currentPage === "instalaciones" ? "active" : ""}`}
            href="#instalaciones"
          >
            <span class="link-text">Instalaciones</span>
          </a>
          <span class="menu-separator"></span>
        </li>
        <li class="nav-item">
          <a
            class={`nav-link ${currentPage === "tratamientos" ? "active" : ""}`}
            href="#tratamientos"
          >
            <span class="link-text">Tratamientos</span>
          </a>
          <span class="menu-separator"></span>
        </li>
        <li class="nav-item">
          <a
            class={`nav-link ${currentPage === "doctores" ? "active" : ""}`}
            href="#doctores"
          >
            <span class="link-text">Doctores</span>
          </a>
          <span class="menu-separator"></span>
        </li>
        <li class="nav-item">
          <a
            class={`nav-link ${currentPage === "reserva" ? "active" : ""}`}
            href="#reserva-ahora-y-gana"
          >
            <span class="link-text">Reserva</span>
          </a>
          <span class="menu-separator"></span>
        </li>
        <li class="nav-item">
          <a
            class={`nav-link ${currentPage === "redes" ? "active" : ""}`}
            href="#redes"
          >
            <span class="link-text">Redes</span>
          </a>
          <span class="menu-separator"></span>
        </li>
        <li class="nav-item">
          <a
            class={`nav-link ${currentPage === "ubicacion" ? "active" : ""}`}
            href="#como-llegar"
          >
            <span class="link-text">Cómo llegar</span>
          </a>
        </li>
      </ul>
    </nav>

    <!-- Controles derecho -->
    <div class="header-controls">
      <!-- Redes sociales -->
      <div class="social-media">
        <a
          href="https://www.facebook.com/DentistaReforma"
          target="_blank"
          rel="noopener noreferrer"
          class="social-link"
          aria-label="Facebook"
        >
          <svg class="social-icon" viewBox="0 0 24 24">
            <path
              fill="currentColor"
              d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"
            ></path>
          </svg>
        </a>
        <a
          href="https://www.instagram.com/tuinstagram"
          target="_blank"
          rel="noopener noreferrer"
          class="social-link"
          aria-label="Instagram"
        >
          <svg class="social-icon" viewBox="0 0 24 24">
            <path
              fill="currentColor"
              d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"
            ></path>
          </svg>
        </a>
      </div>

      <!-- Selector de idioma -->
      <div class="language-selector">
        <button
          class={`lang-option ${currentLanguage === "es" ? "active" : ""}`}
          aria-label="Cambiar a español"
        >
          ES
        </button>
        <span class="lang-separator">/</span>
        <button
          class={`lang-option ${currentLanguage === "en" ? "active" : ""}`}
          aria-label="Switch to English"
        >
          EN
        </button>
      </div>
    </div>
  </div>
</header>

<style>
  :root {
    --primary-color: #9cc115;
    --primary-light: #f5f8e7;
    --primary-border: #e1ecb8;
    --text-color: #2e2e2f;
    --text-light: #666;
    --shadow-color: rgba(156, 193, 21, 0.2);
    --transition-speed: 0.25s;
    --header-height: 68px;
    --separator-color: #e0e0e0;
  }

  .header-container {
    position: fixed;
    top: 0;
    z-index: 1000;
    background: white;
    box-shadow: 0 2px 10px var(--shadow-color);
    height: var(--header-height);
    display: flex;
    align-items: center;
    width: 100%;
  }
  html {
    scroll-padding-top: var(--header-height);
  }

  .header-content {
    max-width: 1280px;
    width: 100%;
    margin: 0 auto;
    padding: 0 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .logo-container {
    flex-shrink: 0;
    margin-right: 32px;
  }

  .logo-link {
    display: flex;
    align-items: center;
    transition: transform 0.2s ease;
  }

  .logo-link:hover {
    transform: scale(1.05);
  }

  .logo-image {
    border-radius: 4px;
    object-fit: contain;
    transition: filter 0.3s ease;
  }

  .logo-image:hover {
    filter: brightness(1.05);
  }

  .main-navigation {
    flex-grow: 1;
    display: flex;
    justify-content: center;
  }

  .nav-list {
    display: flex;
    list-style: none;
    margin: 0;
    padding: 0;
    gap: 4px;
  }

  .nav-item {
    position: relative;
    display: flex;
    align-items: center;
    height: 100%;
  }

  .menu-separator {
    display: block;
    width: 1px;
    height: 16px;
    background-color: var(--separator-color);
    margin: 0 8px;
  }

  .nav-link {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    text-decoration: none;
    color: var(--text-color);
    font-size: 15px;
    font-weight: 500;
    border-radius: 6px;
    transition: all var(--transition-speed) ease;
    height: 100%;
  }

  .link-text {
    position: relative;
    z-index: 1;
  }

  .nav-link:hover {
    color: var(--text-color);
    background-color: var(--primary-light);
  }

  .nav-link.active {
    color: var(--text-color);
    background-color: var(--primary-light);
    box-shadow: 0 0 0 1px var(--primary-color);
  }

  .nav-link::before {
    content: "";
    position: absolute;
    bottom: -4px;
    left: 16px;
    right: 16px;
    height: 2px;
    background-color: var(--primary-color);
    transform: scaleX(0);
    transform-origin: center;
    transition: transform var(--transition-speed) ease;
  }

  .nav-link:hover::before,
  .nav-link.active::before {
    transform: scaleX(1);
  }

  .header-controls {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-left: 32px;
  }

  .social-media {
    display: flex;
    gap: 16px;
  }

  .social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    transition: all var(--transition-speed) ease;
  }

  .social-icon {
    width: 20px;
    height: 20px;
    fill: var(--primary-color);
    transition: transform 0.2s ease;
  }

  .social-link:hover {
    background-color: var(--primary-light);
  }

  .social-link:hover .social-icon {
    transform: scale(1.15);
  }

  .language-selector {
    display: flex;
    align-items: center;
    gap: 4px;
    background-color: var(--primary-light);
    border-radius: 16px;
    padding: 4px;
  }

  .lang-option {
    border: none;
    background: none;
    padding: 4px 10px;
    font-size: 13px;
    font-weight: 500;
    color: var(--text-light);
    cursor: pointer;
    border-radius: 12px;
    transition: all var(--transition-speed) ease;
  }

  .lang-option.active {
    background-color: white;
    color: var(--primary-color);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  .lang-option:hover {
    color: var(--primary-color);
  }

  .lang-separator {
    color: var(--primary-border);
    font-weight: 300;
  }
  html,
  body {
    margin: 0;
    padding: 0;
    width: 100%;
    overflow-x: hidden;
  }

  @media (hover: hover) {
    .nav-link:hover {
      transform: translateY(-1px);
    }
  }
</style>
